<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common :: head('Create Club + Admin')"></head>
<body>
<header th:replace="fragments/common :: nav"></header>

<main class="container">
    <!-- Banner -->
    <section class="cover">
        <div class="cover__title">Create Club</div>
    </section>

    <!-- Bar -->
    <section class="community-bar card">
        <div class="bar-left">
            <div class="avatar lg">âž•</div>
            <div class="name">Create a new Club and its Club Admin</div>
        </div>
        <div class="bar-right">
            <a class="btn ghost" th:href="@{/university/clubs}">Back to list</a>
        </div>
    </section>

    <section class="layout-2col">
        <!-- MAIN -->
        <section>
            <article class="card editor mt-2">
                <div th:if="${param.success}" class="toast ok">Club and Club Admin created successfully.</div>
                <div th:if="${error}" class="toast err" th:text="${error}">Error</div>

                <form th:action="@{/university/clubs}" th:object="${form}" method="post">
                    <h3 class="m-0">Club details</h3>

                    <div class="form-row mt-1">
                        <div>
                            <label>Club name</label>
                            <input th:field="*{clubName}" type="text" required>
                            <div class="err" th:if="${#fields.hasErrors('clubName')}" th:errors="*{clubName}"></div>
                        </div>
                        <div>
                            <label>Logo URL (optional)</label>
                            <input th:field="*{logoUrl}" type="url" placeholder="https://...">
                        </div>
                    </div>

                    <div class="form-row">
                        <div>
                            <label>Banner URL (optional)</label>
                            <input th:field="*{bannerUrl}" type="url" placeholder="https://...">
                        </div>
                    </div>

                    <label class="mt-1">Description</label>
                    <textarea th:field="*{description}" rows="3" placeholder="What is this club about?"></textarea>

                    <h3 class="m-0 mt-3">Club Admin account</h3>

                    <div class="form-row mt-1">
                        <div>
                            <label>Email</label>
                            <input th:field="*{adminEmail}" type="email" required>
                            <div class="err" th:if="${#fields.hasErrors('adminEmail')}" th:errors="*{adminEmail}"></div>
                        </div>
                        <div>
                            <label>First name</label>
                            <input th:field="*{adminFirstName}" type="text" required>
                            <div class="err" th:if="${#fields.hasErrors('adminFirstName')}" th:errors="*{adminFirstName}"></div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div>
                            <label>Last name</label>
                            <input th:field="*{adminLastName}" type="text" required>
                            <div class="err" th:if="${#fields.hasErrors('adminLastName')}" th:errors="*{adminLastName}"></div>
                        </div>
                        <div>
                            <label>Password</label>
                            <input th:field="*{adminPassword}" type="password" required>
                            <div class="err" th:if="${#fields.hasErrors('adminPassword')}" th:errors="*{adminPassword}"></div>
                        </div>
                    </div>

                    <label class="mt-1">Confirm password</label>
                    <input th:field="*{adminConfirmPassword}" type="password" required>
                    <div class="err" th:if="${#fields.hasErrors('adminConfirmPassword')}" th:errors="*{adminConfirmPassword}"></div>

                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

                    <div class="editor-actions">
                        <button class="btn" type="submit">Create club and admin</button>
                        <a class="btn subtle" th:href="@{/university/clubs}">Cancel</a>
                    </div>
                </form>
            </article>
        </section>

        <!-- SIDEBAR -->
        <aside class="card sidebar">
            <h4 class="m-0">Tips</h4>
            <div class="mt-1 help">
                - Club name must be unique within your university.<br>
                - Admin email must not already be registered.<br>
                - Leave banner/logo blank to use defaults.
            </div>
        </aside>
    </section>
</main>
</body>
</html>